with both publish calls using qos0, there is no CPU usage issue, in either
the broker, or the simplemq test application.

Still, for completeness, here is the perf output.  As can be seen, it's mostly in the kernel,
we're simply not doing anything heavy anymore.

# Overhead   Command           Shared Object                               Symbol
# ........  ........  ......................  ...................................
#
     7.36%  simplemq  [nf_conntrack]          [k] 0x100   
     4.20%  simplemq  [ip_tables]             [k] 0x4ac   
     3.55%  simplemq  [kernel]                [k] tcp_v4_rcv
     3.42%  simplemq  [kernel]                [k] tcp_ack
     2.95%  simplemq  libuClibc-0.9.33.2.so   [.] _ppfs_parsespec
     2.45%  simplemq  [kernel]                [k] __inet_lookup_established
     1.86%  simplemq  libuClibc-0.9.33.2.so   [.] free
     1.84%  simplemq  libpthread-0.9.33.2.so  [.] pthread_mutex_lock
     1.56%  simplemq  [nf_conntrack_ipv4]     [k] 0x49c   
     1.50%  simplemq  [kernel]                [k] nf_iterate
     1.48%  simplemq  [iptable_nat]           [k] 0x430   
     1.46%  simplemq  [kernel]                [k] tcp_sendmsg
     1.43%  simplemq  [kernel]                [k] __wake_up_sync_key
     1.43%  simplemq  [kernel]                [k] tcp_transmit_skb
     1.33%  simplemq  [kernel]                [k] tcp_rcv_established
     1.20%  simplemq  libmosquitto.so.1       [.] _mosquitto_packet_write
     1.18%  simplemq  [xt_conntrack]          [k] 0x300   
     1.14%  simplemq  [kernel]                [k] ip_rcv
     1.03%  simplemq  libuClibc-0.9.33.2.so   [.] _vfprintf_internal
     1.01%  simplemq  [kernel]                [k] getnstimeofday
     0.84%  simplemq  libpthread-0.9.33.2.so  [.] __pthread_mutex_unlock_usercnt
     0.80%  simplemq  [kernel]                [k] fsnotify
     0.80%  simplemq  [iptable_mangle]        [k] 0x88    
     0.78%  simplemq  [kernel]                [k] memcpy
     0.78%  simplemq  [kernel]                [k] ip_local_deliver_finish
     0.76%  simplemq  [kernel]                [k] __netif_receive_skb
     0.70%  simplemq  [kernel]                [k] __do_softirq
     0.68%  simplemq  [kernel]                [k] raw_local_deliver
     0.65%  simplemq  [kernel]                [k] ip_finish_output
     0.63%  simplemq  libuClibc-0.9.33.2.so   [.] malloc
     0.63%  simplemq  [kernel]                [k] rcu_sched_qs
     0.63%  simplemq  [kernel]                [k] process_backlog
     0.63%  simplemq  [kernel]                [k] ip_rcv_finish
     0.63%  simplemq  [kernel]                [k] tcp_event_data_recv
     0.63%  simplemq  [kernel]                [k] tcp_write_xmit
     0.61%  simplemq  [kernel]                [k] handle_sys
     0.61%  simplemq  [kernel]                [k] __alloc_skb
     0.61%  simplemq  [kernel]                [k] dev_hard_start_xmit
     0.61%  simplemq  [kernel]                [k] ip_queue_xmit
     0.59%  simplemq  [kernel]                [k] ip_local_deliver
     0.57%  simplemq  libuClibc-0.9.33.2.so   [.] memcpy
     0.55%  simplemq  [kernel]                [k] kfree
     0.53%  simplemq  libuClibc-0.9.33.2.so   [.] _ppfs_init
     0.53%  simplemq  [kernel]                [k] local_bh_enable
     0.51%  simplemq  [kernel]                [k] vfs_write
     0.51%  simplemq  [kernel]                [k] net_rx_action
     0.49%  simplemq  libmosquitto.so.1       [.] mosquitto_publish
     0.49%  simplemq  [iptable_filter]        [k] 0x40    
     0.46%  simplemq  [kernel]                [k] __bzero
     0.46%  simplemq  [kernel]                [k] dev_queue_xmit
     0.46%  simplemq  [kernel]                [k] tcp_options_write
     0.44%  simplemq  libuClibc-0.9.33.2.so   [.] _charpad
     0.44%  simplemq  libuClibc-0.9.33.2.so   [.] pthread_mutex_lock
     0.44%  simplemq  libpthread-0.9.33.2.so  [.] __pthread_cleanup_pop_restore
     0.44%  simplemq  [kernel]                [k] kmem_cache_alloc
     0.44%  simplemq  [kernel]                [k] do_last.isra.37
     0.44%  simplemq  [kernel]                [k] netif_rx
     0.44%  simplemq  [kernel]                [k] tcp_v4_do_rcv
     0.44%  simplemq  [kernel]                [k] bictcp_acked
     0.44%  simplemq  [kernel]                [k] __cond_resched_softirq
     0.42%  simplemq  libuClibc-0.9.33.2.so   [.] __stdio_fwrite
     0.42%  simplemq  [kernel]                [k] __kmalloc
     0.40%  simplemq  libpthread-0.9.33.2.so  [.] __pthread_cleanup_push_defer
     0.40%  simplemq  libmosquitto.so.1       [.] _mosquitto_packet_cleanup
     0.40%  simplemq  [kernel]                [k] finish_task_switch.constprop.58
     0.40%  simplemq  [kernel]                [k] sys_write
     0.38%  simplemq  [kernel]                [k] do_lookup
     0.38%  simplemq  [kernel]                [k] skb_release_data
     0.38%  simplemq  [kernel]                [k] dst_release
     0.38%  simplemq  [kernel]                [k] ip_output
     0.36%  simplemq  libuClibc-0.9.33.2.so   [.] __libc_write
     0.36%  simplemq  [kernel]                [k] tcp_valid_rtt_meas
     0.34%  simplemq  libuClibc-0.9.33.2.so   [.] _pthread_cleanup_push_defer
     0.34%  simplemq  libmosquitto.so.1       [.] _mosquitto_packet_alloc
     0.34%  simplemq  [kernel]                [k] link_path_walk
     0.34%  simplemq  [kernel]                [k] __d_lookup_rcu
     0.34%  simplemq  [kernel]                [k] loopback_xmit
     0.32%  simplemq  libuClibc-0.9.33.2.so   [.] _ppfs_setargs
     0.32%  simplemq  [kernel]                [k] nf_hook_slow
     0.30%  simplemq  libuClibc-0.9.33.2.so   [.] vsnprintf
     0.30%  simplemq  libmosquitto.so.1       [.] _mosquitto_net_write
     0.30%  simplemq  [kernel]                [k] mod_timer
     0.30%  simplemq  [kernel]                [k] ktime_get_real
     0.30%  simplemq  [kernel]                [k] kmem_cache_free
     0.30%  simplemq  [kernel]                [k] do_sync_write
     0.30%  simplemq  [kernel]                [k] tcp_is_cwnd_limited
     0.27%  simplemq  libpthread-0.9.33.2.so  [.] pthread_mutex_unlock
     0.27%  simplemq  libmosquitto.so.1       [.] _mosquitto_send_publish
     0.27%  simplemq  [kernel]                [k] shmem_file_aio_read
     0.27%  simplemq  [kernel]                [k] __dentry_open.isra.15
     0.27%  simplemq  [kernel]                [k] path_openat
     0.27%  simplemq  [kernel]                [k] alloc_fd
     0.27%  simplemq  [kernel]                [k] release_sock
     0.27%  simplemq  [kernel]                [k] __skb_clone
     0.27%  simplemq  [kernel]                [k] skb_push
     0.27%  simplemq  [kernel]                [k] tcp_data_queue
     0.25%  simplemq  libuClibc-0.9.33.2.so   [.] _time_mktime_tzi
     0.25%  simplemq  libuClibc-0.9.33.2.so   [.] memset
     0.25%  simplemq  libmosquitto.so.1       [.] _mosquitto_send_real_publish
     0.25%  simplemq  [kernel]                [k] do_softirq
     0.25%  simplemq  [kernel]                [k] ksize
     0.25%  simplemq  [kernel]                [k] __copy_skb_header
     0.25%  simplemq  [kernel]                [k] __ip_local_out
     0.25%  simplemq  [kernel]                [k] __schedule
     0.23%  simplemq  libuClibc-0.9.33.2.so   [.] _uintmaxtostr
     0.23%  simplemq  libuClibc-0.9.33.2.so   [.] pthread_mutex_unlock
     0.23%  simplemq  [nf_nat]                [k] 0x5e4   
     0.23%  simplemq  [kernel]                [k] run_timer_softirq
     0.23%  simplemq  [kernel]                [k] fget_light
     0.23%  simplemq  [kernel]                [k] fput
     0.23%  simplemq  [kernel]                [k] __d_lookup
     0.23%  simplemq  [kernel]                [k] __kfree_skb
     0.23%  simplemq  [kernel]                [k] sk_filter
     0.23%  simplemq  [kernel]                [k] tcp_send_mss
     0.23%  simplemq  [kernel]                [k] sk_stream_alloc_skb
     0.23%  simplemq  [iptable_raw]           [k] 0x40    
     0.21%  simplemq  libuClibc-0.9.33.2.so   [.] strftime
     0.21%  simplemq  libuClibc-0.9.33.2.so   [.] _time_t2tm
     0.21%  simplemq  libmosquitto.so.1       [.] _mosquitto_log_printf

